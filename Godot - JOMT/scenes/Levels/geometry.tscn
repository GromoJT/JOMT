[gd_scene load_steps=16 format=3 uid="uid://bw18gd0i0ip5u"]

[ext_resource type="Script" path="res://scenes/Levels/geometry.gd" id="1_on06y"]
[ext_resource type="Script" path="res://scenes/Levels/MeshLibSwapper.gd" id="1_usmta"]
[ext_resource type="PackedScene" uid="uid://c4rp0l163hj3f" path="res://scenes/interactable/test_box_2.tscn" id="2_o4wen"]
[ext_resource type="MeshLibrary" uid="uid://bcm2f0l1stqc3" path="res://assets/tiles/tiles3d_dungeon_2/3dtiles_dungeon_2.tres" id="2_ywj8j"]
[ext_resource type="PackedScene" uid="uid://b7auludcjtfv7" path="res://scenes/interactable/Lever.tscn" id="4_8ygik"]
[ext_resource type="Script" path="res://scenes/Levels/StaticBody3D.gd" id="4_u2br4"]
[ext_resource type="PackedScene" uid="uid://cveeow7yvwv8u" path="res://scenes/interactable/chest/chest.tscn" id="6_qao7a"]
[ext_resource type="Script" path="res://scripts/inventory/inventory_data.gd" id="7_wb6xl"]
[ext_resource type="Resource" uid="uid://bppeogqgpuojx" path="res://scripts/item/items/torch.tres" id="8_lyqui"]
[ext_resource type="Script" path="res://scripts/inventory/slot_data.gd" id="9_rf236"]
[ext_resource type="PackedScene" uid="uid://cn857u0wj7r1i" path="res://scripts/item/pick_ups/pick_up.tscn" id="10_8t2tm"]

[sub_resource type="BoxShape3D" id="BoxShape3D_mg7b3"]

[sub_resource type="BoxMesh" id="BoxMesh_ji3oy"]

[sub_resource type="Resource" id="Resource_yir1k"]
script = ExtResource("9_rf236")
item_data = ExtResource("8_lyqui")
qunatity = 2

[sub_resource type="Resource" id="Resource_qkxvg"]
script = ExtResource("7_wb6xl")
slot_datas = Array[ExtResource("9_rf236")]([SubResource("Resource_yir1k"), null, null, null, null])

[node name="Geometry" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1.2, 0, 0, 0, 1, 0, 0, 0)
script = ExtResource("1_on06y")

[node name="Level_0" type="Node3D" parent="."]
script = ExtResource("1_usmta")
MeshLib = ExtResource("2_ywj8j")

[node name="Floors" type="GridMap" parent="Level_0"]
transform = Transform3D(2, 0, 0, 0, 0.5, 0, 0, 0, 2, 0, 0, 0)
mesh_library = ExtResource("2_ywj8j")
data = {
"cells": PackedInt32Array(65535, 65535, 8, 65535, 0, 8, 0, 0, 8, 0, 65535, 8, 65534, 65534, 8, 65535, 65534, 8, 0, 65534, 8, 1, 65534, 8, 1, 65535, 8, 1, 0, 8, 1, 1, 8, 0, 1, 8, 65535, 1, 8, 65534, 1, 8, 65534, 0, 8, 65534, 65535, 8, 65535, 2, 8, 65534, 2, 8, 65533, 2, 8, 65533, 1, 8, 65533, 0, 8, 65533, 65535, 8, 65533, 65534, 8, 65532, 65534, 8, 65532, 65535, 8, 65532, 0, 8, 65532, 1, 8, 65532, 2, 8, 65532, 3, 8, 65532, 4, 8, 65532, 5, 8, 65533, 5, 8, 65534, 5, 8, 65535, 5, 8, 0, 5, 8, 1, 5, 8, 1, 4, 8, 1, 3, 8, 1, 2, 8, 0, 2, 8, 0, 3, 8, 0, 4, 8, 65535, 4, 8, 65535, 3, 8, 65534, 3, 8, 65533, 3, 8, 65533, 4, 8, 65534, 4, 8, 65531, 4, 8, 65530, 4, 8, 65529, 4, 8, 65528, 4, 8, 65528, 3, 8, 65528, 2, 8, 65528, 1, 8, 65528, 0, 8, 65528, 65535, 8, 65528, 65534, 8, 65528, 65533, 8, 65528, 65532, 8, 65529, 1, 8, 65530, 1, 8, 65530, 0, 8, 65530, 65535, 8, 65529, 65535, 8, 65529, 0, 8, 65529, 65532, 8, 65530, 65532, 8, 65531, 65532, 8, 65531, 65531, 8, 65532, 65531, 8, 65533, 65531, 8, 65534, 65531, 8, 65535, 65531, 8, 65535, 65532, 8, 65535, 65533, 8, 65534, 65533, 8, 65534, 65532, 8, 65533, 65532, 8, 65532, 65532, 8, 65529, 65534, 8, 65529, 65533, 8, 65529, 2, 8, 65529, 3, 8, 0, 65533, 8, 0, 65532, 8, 0, 65531, 8, 65535, 65530, 8, 65534, 65530, 8, 65533, 65530, 8, 65532, 65530, 8, 65533, 65533, 8, 65532, 65533, 8, 65531, 65533, 8, 65530, 65533, 8, 65531, 3, 8, 65530, 3, 8, 65531, 2, 8, 65530, 2, 8, 65531, 5, 8, 65531, 1, 8, 65531, 0, 8, 65531, 65535, 8, 65531, 65534, 8, 65530, 65534, 8)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Walls" type="GridMap" parent="Level_0"]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)
mesh_library = ExtResource("2_ywj8j")
data = {
"cells": PackedInt32Array(1, 1, 5, 65534, 65534, 5, 1, 65534, 6, 0, 65534, 655365, 1, 65535, 655363, 1, 0, 655363, 0, 0, 17, 0, 65535, 1048580, 65535, 65535, 1048593, 65534, 65535, 1441797, 0, 1, 655366, 1, 2, 3, 1, 3, 3, 1, 4, 3, 65532, 65535, 3, 65532, 65534, 1048581, 65533, 65534, 1048579, 65532, 2, 655365, 65532, 3, 1048580, 65535, 5, 1441795, 65534, 5, 1441797, 65533, 5, 1441795, 65532, 5, 1441797, 0, 2, 6, 65534, 2, 1048580, 0, 3, 3, 65535, 4, 655366, 65535, 3, 6, 65534, 3, 655366, 65533, 2, 1048598, 1, 5, 1441798, 0, 4, 1441798, 0, 5, 1441795, 65535, 2, 1048598, 65535, 65533, 1441814, 65534, 65533, 1048581, 0, 65533, 5, 0, 65532, 6, 65532, 4, 655382, 65531, 3, 1441797, 65531, 5, 655366, 65531, 4, 6, 65528, 4, 655366, 65530, 3, 1048579, 65530, 4, 1048579, 65529, 4, 1048579, 65528, 3, 655365, 65528, 2, 3, 65528, 1, 3, 65528, 0, 3, 65528, 65535, 3, 65528, 65534, 3, 65528, 65533, 3, 65529, 65532, 1441795, 65528, 65532, 1048582, 65535, 65532, 655366, 65533, 65533, 655366, 65535, 65531, 6, 65531, 65532, 1441797, 65531, 65531, 1048582, 65533, 65532, 6, 65530, 65532, 1441814, 65534, 65531, 1441795, 65533, 65531, 1441795, 65532, 65531, 1441795, 65532, 65532, 1441814, 65530, 65535, 4, 65530, 1, 4, 65531, 2, 17, 65531, 1, 6, 65531, 65534, 1048582, 65530, 0, 22, 65529, 3, 1441814, 65529, 65533, 655364, 65531, 65535, 1441798, 65532, 0, 655366, 65532, 1, 655363, 65533, 0, 6)
}

[node name="Miscs" type="GridMap" parent="Level_0"]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)
mesh_library = ExtResource("2_ywj8j")

[node name="Ramps" type="GridMap" parent="Level_0"]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)
mesh_library = ExtResource("2_ywj8j")
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Level_1" type="Node3D" parent="."]
script = ExtResource("1_usmta")
MeshLib = ExtResource("2_ywj8j")

[node name="Floors" type="GridMap" parent="Level_1"]
transform = Transform3D(2, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0)
mesh_library = ExtResource("2_ywj8j")
data = {
"cells": PackedInt32Array(131073, 65534, 8, 131073, 65535, 8, 131073, 0, 8, 131073, 1, 8, 131072, 1, 8, 196607, 1, 8, 196606, 1, 8, 196606, 0, 8, 196606, 65535, 8, 196606, 65534, 8, 196607, 65534, 8, 131072, 65534, 8, 131072, 65535, 8, 131072, 0, 8, 196607, 0, 8, 196607, 65535, 8, 196606, 2, 8, 196607, 2, 8, 131072, 2, 8, 131073, 2, 8, 196605, 2, 8, 196605, 1, 8, 196605, 0, 8, 196605, 65535, 8, 196605, 65534, 8, 196604, 65534, 8, 196604, 65535, 8, 196604, 0, 8, 196604, 1, 8, 196604, 2, 8, 196606, 5, 8, 196607, 4, 8, 196606, 4, 8, 131072, 4, 8, 131073, 5, 655368, 131073, 4, 655368, 131073, 3, 8, 131072, 3, 8, 196607, 3, 8, 196606, 3, 8, 131072, 5, 8, 196605, 3, 8, 196605, 4, 8, 196605, 5, 8, 196604, 3, 8, 196604, 4, 8, 196604, 5, 8, 196603, 1, 8, 196603, 2, 8, 196603, 3, 8, 196603, 4, 8, 196607, 5, 8, 196603, 5, 8, 196602, 3, 8, 196602, 4, 8, 196601, 4, 8, 196600, 4, 8, 196600, 3, 8, 196601, 3, 8, 196603, 0, 8, 196603, 65535, 8, 196602, 65535, 8, 196602, 0, 8, 196601, 0, 8, 196602, 1, 8, 196602, 2, 8, 196601, 2, 8, 196601, 1, 8, 196600, 1, 8, 196601, 65535, 8, 196600, 2, 8, 196600, 0, 8, 196600, 65535, 8, 196600, 65534, 8, 196600, 65533, 8, 196601, 65533, 8, 196602, 65533, 8, 196602, 65534, 8, 196603, 65534, 8, 196603, 65533, 8, 196601, 65534, 8, 196603, 65532, 8, 196604, 65532, 8, 196605, 65532, 8, 196605, 65533, 8, 196606, 65533, 8, 196607, 65533, 8, 131072, 65533, 8, 131072, 65532, 8, 196607, 65532, 8, 196607, 65531, 8, 196606, 65531, 8, 196606, 65532, 8, 196604, 65533, 8, 196604, 65531, 8, 196605, 65531, 8, 196603, 65531, 8, 196602, 65532, 8, 196601, 65532, 8, 196600, 65532, 8)
}
metadata/_editor_floor_ = Vector3(0, 2, 0)

[node name="Walls" type="GridMap" parent="Level_1"]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)
mesh_library = ExtResource("2_ywj8j")
metadata/_editor_floor_ = Vector3(0, 1, 0)

[node name="Miscs" type="GridMap" parent="Level_1"]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)
visible = false
mesh_library = ExtResource("2_ywj8j")
metadata/_editor_floor_ = Vector3(0, 1, 0)

[node name="Ramps" type="GridMap" parent="Level_1"]
mesh_library = ExtResource("2_ywj8j")
metadata/_editor_floor_ = Vector3(0, 2, 0)

[node name="Objects" type="Node3D" parent="."]

[node name="RigidBody3D" parent="Objects" instance=ExtResource("2_o4wen")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -4, 1, 0)
mass = 1.06

[node name="RigidBody3D2" parent="Objects" instance=ExtResource("2_o4wen")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -4, 1, 2.05476)
mass = 1.06

[node name="SpotLight3D" type="SpotLight3D" parent="Objects"]
transform = Transform3D(-0.866025, 0, -0.5, 0, 0.833333, 0, 0.5, 0, -0.866025, -0.673516, 2, 13.2764)
light_color = Color(0.8, 0, 0.121569, 1)
light_energy = 2.067
shadow_enabled = true
spot_range = 11.201
spot_attenuation = 0.420448
spot_angle = 63.05
spot_angle_attenuation = 0.482968

[node name="Lever" parent="Objects" instance=ExtResource("4_8ygik")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.91667, -1.63216)
collision_layer = 5

[node name="StaticBody3D" type="StaticBody3D" parent="Objects" groups=["Interactable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1.66667, 0)
collision_layer = 5
script = ExtResource("4_u2br4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Objects/StaticBody3D"]
shape = SubResource("BoxShape3D_mg7b3")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Objects/StaticBody3D"]
mesh = SubResource("BoxMesh_ji3oy")

[node name="Chest#1" parent="Objects" instance=ExtResource("6_qao7a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.8153, 0.65235, -3.09674)
inventory_data = SubResource("Resource_qkxvg")

[node name="PickUps" type="Node3D" parent="."]

[node name="PickUp" parent="PickUps" instance=ExtResource("10_8t2tm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.07039, 0.732095, 7.47194)
